## 1. 需求
我是一个短视频带货账号的运营，我现在有很多达人的带货数据，这些数据包括:
1. 至今的赞、收藏、转发数
2. 每天定时抓取的视频的赞、收藏、转发数，基于这个数据可以计算出视频的日增量
3. 带货商品的名称、一级品类、二级品类

我现在希望展示和监控多个达人的数据，以快速获取以下信息:
1. 快速直到某一个达人，最近拍了哪些商品，这些商品按照 品类的点赞，收藏，转发的统计数据，并且按照从高到低展示，可以快速看出达人在哪些品类数据很好
2. 快速获取某个商品、某个品类，哪些带货视频数据非常好，支持按照点赞，收藏，转发排序查看
3. 总览，按照商品点赞、转发、收藏任意指标(可选择)，商品拍摄次数，两个维度，展示矩阵图，可以快速看到所有达人的视频，都有哪些拍的比较多。哪些拍的比较好。这样我就可以快速选择，那些多人拍的，数据都比较好的品快速更近。
这些数据的最终目的是服务我如下两个目标:
1. 快速找到当前热品，我可以快速跟踪
2. 快速找到某个品类拍摄好的达人，我可以对标这个达人的视频进行学习拍摄

目前我只能获取抖音平台如下数据:

```python
# models.py
from sqlalchemy.sql.schema import Column


from sqlalchemy import (
    Column, Integer, Float, 
    Boolean, DateTime, func, 
    UniqueConstraint,
    VARCHAR, Text, String, BigInteger,
    PrimaryKeyConstraint
)
from sqlalchemy.orm import Session
from media_op.biz.db import Base

class DouyinAweme(Base):
    __tablename__ = 'douyin_aweme'
    id = Column(Integer, primary_key=True, comment="")
    user_id = Column(String(255), comment="用户ID")
    sec_uid = Column(String(255), comment="用户加密ID")
    short_user_id = Column(String(255), comment="用户短ID")
    user_unique_id = Column(String(255), comment="用户唯一ID")
    nickname = Column(Text, comment="用户昵称")
    avatar = Column(Text)
    user_signature = Column(Text)
    ip_location = Column(Text)
    add_ts = Column(BigInteger)
    last_modify_ts = Column(BigInteger)
    aweme_id = Column(BigInteger, index=True)
    aweme_type = Column(Text)
    title = Column(Text)
    desc = Column(Text)
    create_time = Column(BigInteger, index=True)
    liked_count = Column(Text)
    comment_count = Column(Text)
    share_count = Column(Text)
    collected_count = Column(Text)
    aweme_url = Column(Text)
    cover_url = Column(Text)
    video_download_url = Column(Text)
    music_download_url = Column(Text)
    note_download_url = Column(Text)
    source_keyword = Column(Text, default='')


class DouyinAwemeSummary(Base):
    """
    抖音视频信息及关联商品信息模型。
    对应 JSON 数据结构，主键为 aweme_id 和 update_ts。
    """
    __tablename__ = 'douyin_aweme_summary'

    # --- 主键字段 ---
    aweme_id = Column(BigInteger, nullable=False, comment="视频ID")
    update_ts = Column(BigInteger, nullable=False, comment="更新时间戳（毫秒）")

    # --- 用户信息 ---
    sec_uid = Column(String(255), nullable=True, comment="用户加密ID")
    nickname = Column(Text, nullable=True, comment="用户昵称")
    avatar: Column[str] = Column(Text, nullable=True, comment="用户头像URL")

    # --- 视频信息 ---
    aweme_type = Column(String(50), nullable=True, comment="视频类型")
    title = Column(Text, nullable=True, comment="视频标题")
    desc = Column(Text, nullable=True, comment="视频描述")
    create_time = Column(BigInteger, nullable=True, comment="创建时间（秒级时间戳）")

    # --- 统计信息 ---
    recommend_count = Column(Integer, nullable=False, default=0, comment="推荐数")
    comment_count = Column(Integer, nullable=False, default=0, comment="评论数")
    digg_count = Column(Integer, nullable=False, default=0, comment="点赞数")
    admire_count = Column(Integer, nullable=False, default=0, comment="喜欢数")
    play_count = Column(Integer, nullable=False, default=0, comment="播放数")
    share_count = Column(Integer, nullable=False, default=0, comment="分享数")
    collect_count = Column(Integer, nullable=False, default=0, comment="收藏数")

    # --- URL 信息 ---
    aweme_url = Column(Text, nullable=True, comment="视频页面URL")
    cover_url = Column(Text, nullable=True, comment="封面图URL")
    video_download_url = Column(Text, nullable=True, comment="视频下载URL")
    music_download_url = Column(Text, nullable=True, comment="音乐下载URL")
    note_download_url = Column(Text, nullable=True, comment="图文下载URL")

    # --- 商品信息 ---
    promotion_id = Column(String(255), nullable=True, comment="推广ID")
    product_id = Column(String(255), nullable=True, comment="商品ID")
    product_title = Column(Text, nullable=True, comment="商品标题")
    price = Column(Integer, nullable=False, default=0, comment="商品价格（单位：分）")
    sales = Column(Integer, nullable=False, default=0, comment="销量")
    elastic_title = Column(Text, nullable=True, comment="商品弹性标题")

    # --- 定义联合主键 ---
    __table_args__ = (
        PrimaryKeyConstraint('aweme_id', 'update_ts'),
        # 可以在这里添加其他索引或约束
        # 例如: Index('idx_create_time', 'create_time'),
    )


class DyCreator(Base):
    __tablename__ = 'dy_creator'
    id = Column(Integer, primary_key=True)
    user_id = Column(String(255), comment="用户ID")
    nickname = Column(Text, comment="昵称")
    avatar = Column(Text, comment="头像")
    ip_location = Column(Text, comment="IP位置")
    add_ts = Column(BigInteger, comment="添加时间戳")
    last_modify_ts = Column(BigInteger, comment="最后修改时间戳")
    desc = Column(Text, comment="描述")
    gender = Column(Text, comment="性别")
    follows = Column(Text, comment="关注数")
    fans = Column(Text, comment="粉丝数")
    interaction = Column(Text, comment="互动数")
    videos_count = Column(String(255), comment="发布视频数")

class ProductInfo(Base):
    __tablename__ = 'product_info'
    
    # 根据注释定义字段
    id = Column(BigInteger, primary_key=True, autoincrement=True, comment="自增ID")
    product_id = Column(String(255), nullable=True, comment="商品ID")
    title = Column(VARCHAR(255), nullable=True, comment="商品标题")
    brand = Column(VARCHAR(255), nullable=True, comment="品牌")
    category = Column(VARCHAR(255), nullable=True, comment="一级分类")
    category2 = Column(VARCHAR(255), nullable=True, comment="二级分类")
    
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())
    
    def __repr__(self):
        return f"<ProductInfo(id={self.id}, product_id={self.product_id}, title='{self.title}')>"

    # 添加唯一约束：remark 唯一
    __table_args__ = (
        UniqueConstraint('product_id', name='uix_product_id'),
    )
```

其中:
1. DyCreator: 达人基本信息
2. DouyinAweme: 达人发送的每条视频数据，每一条视频只会存在一条记录
3. DouyinAwemeSummary: 每天多次抓取的达人发送每条视频数据，每一条视频每天会有多条记录。基于多条记录可以计算出视频每天的增量


我想写一个 web 站点，满足我运营的需求，请你完善分析逻辑，还缺少哪些信息，请向我提问。请注意:
1. 请注意，你只能使用我给你的数据，不需要考虑这个之外的额外数据。
2. 前端不要写复杂的计算逻辑，如果需要特定聚合数据，可以假设后端会直接返回，但是需要输出需要数据的计算逻辑。

计算逻辑补充:
1. **日增量计算**：在 `DouyinAwemeSummary` 中计算每日增量时应该使用 update_ts，取每天最晚和最早的数据计算增量，如果数据是当天发布的，取最晚一条记录。这个逻辑放在后端实现，前端可直接请求后端接口获取日增数据
2. **时间范围**：应该是提供筛选框，从这个日期开始，提供最近 3,5,15，一个月的快捷键
3. **达人品类统计**：只统计带货视频，不会存在一个视频有多个商品的情况
4. **数据缺失处理**：缺失的数据都不统计
5. **热品判断标准**：提供菜单，可以从，点赞，转发，收藏，评论中选择一个
6. **达人对标功能**：需要此功能
7. **权重设置**：权重相同，优先表现数据，表现数据差不多考虑频率


后端 API 格式
1. 需要你设计API 接口规范
2. 后端技术栈是 python flask
3. 前端使用 /api 开头的接口地址

数据库访问:
1. 需要你提供完整的前后端方案

达人品类统计的维度
1. 自定义时间范围，可提供最近3,5,7,30 天的快捷键
2. create_time

矩阵图的具体设计:
X: 商品的某个指标(点赞/收藏/转发)
Y: 商品拍摄次数(视频数量)
每个点代表什么 一个商品

"拍的比较好"的判断标准:
1. 页面提供的指标选择框(点赞/收藏/转发)，使用用户选择的指标
2. 单个视频

达人对标的具体需求:
1. 达人列表 + 该品类的总体数据
2. 达人列表 + 每个品类下，指标最高视频的的对比

数据更新频率：
1. 手动刷新
2. 每天固定频率，0,4,8,12,16,20,23 点的 30 分抓取

不需要用户登录，单用户使用
不需要必选项

你的目的是完善需求，不需要给出实现逻辑
<!-- 问题 3：可提供快捷键，快速选择 最近 3,5,7,15， 一个月，要排除无商品关联的视频
问题 4：“拍摄次数” = 同一 product_id 总视频数，拍的比较好”的比较指标可以在页面选择，可以提供指标的阈值过滤逻辑
问题 5：需要 -->
## 2. AI 的回答
